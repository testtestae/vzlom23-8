<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div id="app"> </div>
       
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const rootNode = document.getElementById("app");
        const root = ReactDOM.createRoot(rootNode);



        const ReactRoot = ()=>{
            const [modal, setModal] = React.useState(false);
            return(
                <>
                    <LoginPage setModal={setModal}/>
                    {
                        modal?<Modal setModal={setModal}/>:null
                    }
                    
                </>
            )
        }

        const LoginPage = (props)=>{
            return(
                <div className="flex min-h-full items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
                    <div className="w-full max-w-md space-y-8">
                    <div>
                        <img className="mx-auto h-12 w-auto" src="https://tailwindui.com/img/logos/mark.svg?color=indigo&shade=600" alt="Your Company" />
                        <h2 className="mt-6 text-center text-3xl font-bold tracking-tight text-gray-900">Вход в корпоративный аккаунт</h2>
                    </div>
                    <form 
                        id="login-form" 
                        className="mt-8 space-y-6" 
                        onSubmit={(e)=>{
                            // console.log(e);
                            e.preventDefault();
                            alert("Неверный логин или пароль");
                        }}
                        method="POST"
                    >
                        <input type="hidden" name="remember" value="true" />
                        <div className="-space-y-px rounded-md shadow-sm">
                        <div>
                            <label for="email-address" className="sr-only">Email адрес</label>
                            <input id="email-address" name="email" type="email" autocomplete="email" required className="relative block w-full rounded-t-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Email адрес" />
                        </div>
                        <div>
                            <label for="password" className="sr-only">Пароль</label>
                            <input id="password" name="password" type="password" autocomplete="current-password" required className="relative block w-full rounded-b-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Пароль" />
                        </div>
                        </div>
                
                        <div className="flex items-center justify-between">
                        <div className="flex items-center">
                            <input id="remember-me" name="remember-me" type="checkbox" className="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-600" />
                            <label for="remember-me" className="ml-2 block text-sm text-gray-900">Запомнить меня</label>
                        </div>
                
                        <div className="text-sm">
                            <button 
                                className="font-medium text-indigo-600 hover:text-indigo-500"
                                onClick={()=>{
                                    props.setModal(true)
                                }}
                            >Забыли пароль?</button>
                        </div>
                        </div>
                
                        <div>
                        <button type="submit" className="group relative flex w-full justify-center rounded-md bg-indigo-600 py-2 px-3 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">
                            <span className="absolute inset-y-0 left-0 flex items-center pl-3">
                            <svg className="h-5 w-5 text-indigo-500 group-hover:text-indigo-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z" clip-rule="evenodd" />
                            </svg>
                            </span>
                            Войти
                        </button>
                        </div>
                    </form>
                    </div>
                </div>
            )
        }

        const Modal = (props)=>{
            const [question1, setQuestion1] = React.useState("Ваше прозвище в детстве?");
            const [word1, setWord1] = React.useState("Объектив");
            const [question2, setQuestion2] = React.useState("Ваш любимый певец?");
            const [word2, setWord2] = React.useState("Шнур");
            const [winPage, setWinPage] = React.useState("https://testtestae.github.io/winpage/");
            return(
                <div className="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">

                    <div 
                        className="fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"
                    ></div>

                    <div className="fixed inset-0 z-10 overflow-y-auto">
                        <div 
                            className="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"
                            onClick={()=>{
                                props.setModal(false);
                            }}  
                        >

                        <div 
                            className="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg"
                            onClick={(e)=>{
                                e.stopPropagation()
                            }}
                        >
                            <div 
                                className="
                                    bg-white 
                                    px-4 
                                    pt-5 
                                    pb-4 
                                    sm:p-6 
                                    sm:pb-4
                                "
                            >
                            <h2 className="mt-6 text-center text-3xl font-bold tracking-tight text-gray-900">Восстановление доступа</h2>
                                <div className="sm:flex items-center justify-center w-full">
                                    <form 
                                        id="login-form" 
                                        className="mt-8 space-y-6 w-full" 
                                        action="#" 
                                        method="POST"
                                        onSubmit={(e)=>{
                                            e.preventDefault()
                                            const form = new FormData(e.target);
                                            if ( form.get("first-word") === word1 && form.get("first-word") === word2 ) {
                                                location.href = winPage
                                            } else {
                                                alert("Пользователь не найден")
                                                props.setModal(false)
                                            }
                                            
                                           
                                        }}
                                    >
                                        <input type="hidden" name="remember" value="true" />
                                        <div className="-space-y-px rounded-md shadow-sm">
                                            <div>
                                                <label for="first-word" className="ml-2 block text-sm text-gray-900">{question1}</label>
                                                <input id="first-word" name="first-word" type="text" required className="relative block w-full rounded-t-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder={question1} />
                                            </div>
                                            <div>
                                                <label for="first-word" className="ml-2 block text-sm text-gray-900">{question2}</label>
                                                <input id="second-word" name="second-word" type="text" required className="relative block w-full rounded-b-md border-0 py-1.5 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:z-10 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder={question2} />
                                            </div>
                                        </div>    
                                        <div>
                                        <button 
                                            type="submit" 
                                            className="group relative flex w-full justify-center rounded-md bg-indigo-600 py-2 px-3 text-sm font-semibold text-white hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"
                                        >
                                            <span className="absolute inset-y-0 left-0 flex items-center pl-3">
                                                <svg className="h-5 w-5 text-indigo-500 group-hover:text-indigo-400" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                                    <path fill-rule="evenodd" d="M10 1a4.5 4.5 0 00-4.5 4.5V9H5a2 2 0 00-2 2v6a2 2 0 002 2h10a2 2 0 002-2v-6a2 2 0 00-2-2h-.5V5.5A4.5 4.5 0 0010 1zm3 8V5.5a3 3 0 10-6 0V9h6z" clip-rule="evenodd" />
                                                </svg>
                                            </span>
                                            Восстановить
                                        </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                        </div>
                    </div>
                </div>
            )
        }

        root.render(
            <ReactRoot/>
            );
    </script>
</body>
</html>